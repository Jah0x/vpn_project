# Аутентификация через Telegram

В проекте предусмотрена возможность входа без пароля с помощью Telegram Web App. На стороне фронтенда вызывается `telegramAuth`, который получает `initDataUnsafe` из `Telegram.WebApp`, извлекает поле `user` и отправляет на сервер объект

```ts
{ ...user, auth_date, hash }
```

Таким образом сервер получает плоскую структуру данных, проверяет подпись и создаёт (либо находит) пользователя, после чего выдаёт JWT.

Чтобы использовать этот способ:
1. Внутри Telegram Bot необходимо настроить Web App и передать URL в `index.html`.
2. Пользователь открывает бот, кликает кнопку "Войти" и передает данные в Web App.
3. После первого входа новый пользователь заполняет недостающие данные в форме и отправляет их на бекенд.
4. Сервер создает аккаунт и возвращает токен. В дальнейшем повторный вход выполняется автоматически, без ввода пароля.

Схема авторизации через Telegram дополнительно описана в backend `server/src/services` и может быть расширена.

## Отладка

После добавления логирования каждая попытка входа через Telegram отображается в консоли сервера. В логе будут строки вида:

```json
{"level":30,"msg":"Telegram auth attempt","telegramId":"123456"}
```

Если сообщения не появляются, убедитесь, что переменная окружения `TELEGRAM_BOT_TOKEN` задана и сервер перезапущен.
